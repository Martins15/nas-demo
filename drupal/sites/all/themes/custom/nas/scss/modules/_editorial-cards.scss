/* @todo Add a markup example */

// ---------------
// Editorial Cards
// ---------------

// Basic components

.editorial-card {
  @extend %card;
}

.editorial-card-photo {
  @extend %card-photo;
}

.editorial-card-banner {
  @extend %card-banner;

  &.fixed {
    position: absolute;
    bottom: 0;
    width: 100%;
  }

  &.blue      { background-color: $color-bright-blue; }
  &.green     { background-color: $color-pea-green; }
  &.gray      { background-color: $color-text-gray; }
}

.editorial-card-content {
  @extend %card-content;

  min-height: 180px;
  @include breakpoint(large-up) {
    min-height: 200px;
    &.short {
      min-height: 170px;
    }
  }
  @include breakpoint(min-width, 960px) {
    min-height: 170px;
    &.short {
      min-height: 140px;
    }
  }

  &.has-fixed-banner {
    padding-bottom: 50px;
  }
}

// Content elements

.editorial-card-slug {
  display: block;
  font-family: $font-sans;
  font-size: $size-text-small;
}

.editorial-card-title {
  display: block;
  font-family: $font-sans;
  margin-bottom: $size-space;

  a:last-child &,
  &.no-margin {
    margin-bottom: 0;
  }
  &.blue a {
    color: $color-bright-blue;
    &:hover {
      color: darken($color-bright-blue, 15%);
    }
  }

  @include width-range(768px, 900px) {
    .editorial-card-list-item & {
      font-size: $size-text-base;
      line-height: $size-line-base;
    }
  }
}

.editorial-card-list-item {
  display: block;
  padding-bottom: $size-space;

  @include breakpoint(min-width, 900px) {
    padding-bottom: $size-space*1.5;
  }

  &:last-child {
    padding-bottom: 0;
  }

  &.small {
    font-size: $size-text-small;
    line-height: $size-line-small;
  }

  br {
    display: block;
    height: 10px;
  }
}

.editorial-card-dateline {
  color: #888;
}

.editorial-card-link {
  font-size: $size-text-small - 1;
  position: relative;
  padding-right: 10px;
  color: #0aa8e3;
  &:after {
    content: "";
    display: block;
    right: 0px;
    top: 50%;
    margin-top: -3px;
    position: absolute;
    width: 7px;
    height: 7px;
    background: url("../img/duble-arrow.png") no-repeat center center;
    background-size: 100%;
  }
  /*&:after {
    content: "Â»";
    margin-left: $size-space/2;
    display: inline-block;
    width: 7px;
    height: 7px;
    background: url("img/duble-arrow.png") no-repeat center center;
    background-size: 100%;
  }*/
  &.sans {
    font-family: $font-sans;
    font-size: $size-text-small;
  }
}

// -------------
// Card variants
// -------------

// Full-width
.editorial-card.full-width {
  @include breakpoint(large-up) {
    margin-bottom: $column-gutter*2;
    .editorial-card-content {
      padding: $column-gutter $column-gutter $column-gutter 0;
    }
    .editorial-card-title {
      font-size: $size-text-large;
      line-height: $size-text-large + 5px;
      margin-bottom: $column-gutter/2;
    }
  }
  @include breakpoint(min-width, 900px) {
    .editorial-card-slug {
      font-size: $size-text-medium;
      margin-bottom: $size-space/2;
    }
    .editorial-card-title {
      font-size: $size-text-h3;
      line-height: $size-text-h3 + 5px;
      margin-bottom: $column-gutter;
    }
  }
}

// Small, four to a row
.editorial-card.small {
  @include breakpoint(large-up) {
    .editorial-card-content {
      padding: $size-space $size-space $size-space*2 $size-space;
    }
  }
}

// Index listing
.editorial-card.index {
  border: 0;
  box-shadow: none;
  margin-bottom: $column-gutter;

  .editorial-card-content {
    padding: 0;
    min-height: 0 !important;
  }

  @include breakpoint(max-width, #{upper-bound($small-range)}) {
    .editorial-card-photo {
      position: relative;
      top: 3px;
      margin-right: -$column-gutter/2;
    }
  }
}

// Borderless
.editorial-card.no-border {
  border: 0;
  box-shadow: none;
  .editorial-card-content {
    padding: $size-space 0 0 0;
  }
}

// Feature
.editorial-card.feature {
  @extend .editorial-card.no-border;  

  .editorial-card-content {
    min-height: 0 !important;
  }
  .editorial-card-slug {
    font-size: $size-text-base;
  }
  .editorial-card-title {
    min-height: ($size-text-h3 + 3px) * 2; // assume two lines
  }
}

// Dark bg card
.editorial-card.dark {
  background-color: transparent;
  color: $color-white;
  .editorial-card-title {
    color: $color-white;
  }
}

// Collapses to minimal display on mobile
.editorial-card.collapse-minimal {
  @include breakpoint(max-width, #{upper-bound($medium-range)}) {
    border: 0;
    background-color: transparent;
    box-shadow: none;
    margin-bottom: $column-gutter;

    .editorial-card-content {
      min-height: 0;
      padding: 0;
    }
    .editorial-card-photo {
      display: none;
    }
  }
}